<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Legado do Regente - Jogo de DecisÃµes</title>
    <link rel="stylesheet" href="style.css">
    <!-- SDK do Google Gen AI -->
    <script type="module">
        import { GoogleGenAI } from 'https://cdn.jsdelivr.net/npm/@google/genai@1.8.0/+esm';
        window.GoogleGenAI = GoogleGenAI;
    </script>
</head>
<body>
    <div class="game-container">
        <!-- Tela inicial -->
        <div id="start-screen" class="screen active">
            <div class="start-content">
                <h1>ğŸ‘‘ O Legado do Regente</h1>
                <p>Um jogo de tomada de decisÃµes onde cada escolha molda o destino do seu reino.</p>
                
                <div class="game-intro">
                    <h3>Como Jogar:</h3>
                    <div class="intro-text">
                        <p>ğŸ° VocÃª Ã© o novo regente de um reino em tempos turbulentos</p>
                        <p>âš–ï¸ Mantenha o equilÃ­brio entre os quatro pilares do reino:</p>
                        <div class="pillars-preview">
                            <div class="pillar-item">â¤ï¸ <strong>Povo</strong> - Felicidade e lealdade</div>
                            <div class="pillar-item">ğŸ’° <strong>Tesouro</strong> - Riqueza do reino</div>
                            <div class="pillar-item">âš”ï¸ <strong>ExÃ©rcito</strong> - ForÃ§a militar</div>
                            <div class="pillar-item">â›ª <strong>Igreja</strong> - Poder religioso</div>
                        </div>
                        <p>âš ï¸ Cuidado! Extremos em qualquer pilar podem levar ao fim do seu reinado</p>
                    </div>
                </div>
                
                <button id="start-btn" class="btn btn-primary">ComeÃ§ar Novo Reinado</button>
                <button id="about-btn" class="btn btn-secondary">Sobre o Jogo</button>
            </div>
        </div>

        <!-- Tela do jogo -->
        <div id="game-screen" class="screen">
            <!-- Barras de atributos -->
            <div class="attributes-panel">
                <div class="attribute" id="people-attr">
                    <div class="attr-icon">â¤ï¸</div>
                    <div class="attr-info">
                        <div class="attr-name">Povo</div>
                        <div class="attr-bar">
                            <div class="attr-fill" id="people-fill"></div>
                        </div>
                        <div class="attr-value" id="people-value">50</div>
                    </div>
                </div>
                
                <div class="attribute" id="treasury-attr">
                    <div class="attr-icon">ğŸ’°</div>
                    <div class="attr-info">
                        <div class="attr-name">Tesouro</div>
                        <div class="attr-bar">
                            <div class="attr-fill" id="treasury-fill"></div>
                        </div>
                        <div class="attr-value" id="treasury-value">50</div>
                    </div>
                </div>
                
                <div class="attribute" id="army-attr">
                    <div class="attr-icon">âš”ï¸</div>
                    <div class="attr-info">
                        <div class="attr-name">ExÃ©rcito</div>
                        <div class="attr-bar">
                            <div class="attr-fill" id="army-fill"></div>
                        </div>
                        <div class="attr-value" id="army-value">50</div>
                    </div>
                </div>
                
                <div class="attribute" id="church-attr">
                    <div class="attr-icon">â›ª</div>
                    <div class="attr-info">
                        <div class="attr-name">Igreja</div>
                        <div class="attr-bar">
                            <div class="attr-fill" id="church-fill"></div>
                        </div>
                        <div class="attr-value" id="church-value">50</div>
                    </div>
                </div>
            </div>

            <!-- Ãrea principal do jogo -->
            <div class="game-main">
                <!-- Imagem do personagem/cenÃ¡rio -->
                <div class="character-area">
                    <div class="character-image" id="character-image">
                        <img id="character-img" src="" alt="Personagem" style="display: none;">
                        <div class="loading-placeholder" id="image-loading">
                            <div class="loading-spinner"></div>
                            <p>Gerando imagem...</p>
                        </div>
                    </div>
                    <div class="character-name" id="character-name">Carregando...</div>
                </div>

                <!-- Texto do cenÃ¡rio -->
                <div class="scenario-area">
                    <div class="scenario-text" id="scenario-text">
                        <div class="loading-text">
                            <div class="loading-dots"></div>
                            <p>Gerando novo cenÃ¡rio...</p>
                        </div>
                    </div>
                </div>

                <!-- OpÃ§Ãµes de decisÃ£o -->
                <div class="decision-area">
                    <button class="decision-btn left-decision" id="left-decision">
                        <div class="decision-icon">ğŸ‘ˆ</div>
                        <div class="decision-text" id="left-text">Carregando...</div>
                    </button>
                    
                    <button class="decision-btn right-decision" id="right-decision">
                        <div class="decision-icon">ğŸ‘‰</div>
                        <div class="decision-text" id="right-text">Carregando...</div>
                    </button>
                </div>
            </div>

            <!-- Contador de decisÃµes -->
            <div class="game-info">
                <div class="decision-counter">
                    <span>DecisÃµes tomadas: <span id="decision-count">0</span></span>
                </div>
                <button id="menu-btn" class="btn btn-small">ğŸ“‹ Menu</button>
            </div>
        </div>

        <!-- Tela de fim de jogo -->
        <div id="end-screen" class="screen">
            <div class="end-content">
                <h1 id="end-title">ğŸ‘‘ Fim do Reinado</h1>
                <div class="end-image" id="end-image">
                    <div class="end-icon" id="end-icon">âš°ï¸</div>
                </div>
                <div class="end-text" id="end-text">
                    <p>Seu reinado chegou ao fim...</p>
                </div>
                <div class="end-stats">
                    <h3>EstatÃ­sticas do Reinado:</h3>
                    <div class="stat-item">
                        <span>DecisÃµes tomadas:</span>
                        <span id="final-decisions">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Causa do fim:</span>
                        <span id="end-cause">Desconhecida</span>
                    </div>
                </div>
                <div class="end-actions">
                    <button id="restart-btn" class="btn btn-primary">ğŸ”„ Novo Reinado</button>
                    <button id="back-menu-btn" class="btn btn-secondary">ğŸ“‹ Menu Principal</button>
                </div>
            </div>
        </div>

        <!-- Tela sobre o jogo -->
        <div id="about-screen" class="screen">
            <div class="about-content">
                <h1>ğŸ“– Sobre o Jogo</h1>
                <div class="about-text">
                    <h3>O Legado do Regente</h3>
                    <p>Um jogo de tomada de decisÃµes inspirado em Reigns, onde vocÃª governa um reino medieval enfrentando dilemas complexos que afetam o equilÃ­brio do poder.</p>
                    
                    <h3>ğŸ¯ Objetivo</h3>
                    <p>Mantenha o equilÃ­brio entre os quatro pilares do reino: Povo, Tesouro, ExÃ©rcito e Igreja. Evite que qualquer um deles atinja nÃ­veis extremos (muito alto ou muito baixo), pois isso levarÃ¡ ao fim do seu reinado.</p>
                    
                    <h3>ğŸ® Como Jogar</h3>
                    <p>A cada cenÃ¡rio, vocÃª serÃ¡ apresentado a um personagem com um dilema. Escolha entre duas opÃ§Ãµes clicando nos botÃµes Ã  esquerda ou Ã  direita. Cada decisÃ£o afetarÃ¡ os atributos do reino de forma diferente.</p>
                    
                    <h3>ğŸ¤– Tecnologia</h3>
                    <p>Este jogo utiliza inteligÃªncia artificial para gerar cenÃ¡rios Ãºnicos e imagens dos personagens, proporcionando uma experiÃªncia sempre nova e surpreendente.</p>
                </div>
                <button id="back-start-btn" class="btn btn-primary">ğŸ  Voltar ao InÃ­cio</button>
            </div>
        </div>

        <!-- Loading overlay -->
        <div id="loading-overlay" class="loading-overlay hidden">
            <div class="loading-content">
                <div class="loading-spinner large"></div>
                <p id="loading-text">Carregando...</p>
            </div>
        </div>
    </div>

    <!-- Modal de configuraÃ§Ã£o da API -->
    <div id="api-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ğŸ”‘ ConfiguraÃ§Ã£o da API</h3>
                <button id="close-api-modal" class="close-btn">âœ•</button>
            </div>
            <div class="modal-body">
                <p>Para usar este jogo, vocÃª precisa de uma chave da API do Google Gemini (gratuita):</p>
                <ol>
                    <li>Acesse <a href="https://ai.google.dev/" target="_blank">Google AI Studio</a></li>
                    <li>Crie uma conta e gere uma chave API gratuita</li>
                    <li>Cole a chave no campo abaixo:</li>
                </ol>
                <input type="password" id="api-key-input" placeholder="Cole sua chave API aqui..." />
                <div class="modal-actions">
                    <button id="save-api-key" class="btn btn-primary">Salvar e Continuar</button>
                    <button id="demo-mode" class="btn btn-secondary">Modo Demo (sem IA)</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Overlay para modal -->
    <div id="modal-overlay" class="modal-overlay hidden"></div>

    <script src="game.js"></script>
</body>
</html>

